(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(7),s=n.n(r),o=(n(25),n(11)),i=n(2),j=(n(26),n(6)),l=n(3),u=n(1),b=function(e){var t=e.setUser,n=Object(c.useState)(""),a=Object(i.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(""),j=Object(i.a)(o,2),b=j[0],d=j[1],O=Object(c.useState)(""),h=Object(i.a)(O,2),p=h[0],x=h[1],m=Object(c.useState)(""),f=Object(i.a)(m,2),g=f[0],v=f[1],C=Object(c.useState)(""),y=Object(i.a)(C,2),N=y[0],S=y[1],B=Object(c.useState)(""),w=Object(i.a)(B,2),P=w[0],T=w[1],k=Object(l.e)();return Object(c.useEffect)((function(){localStorage.setItem("name",JSON.stringify(p))}),[p]),Object(u.jsxs)("div",{className:"loginBody",children:[Object(u.jsx)("h1",{children:"Berry's Beans"}),Object(u.jsxs)("div",{className:"formBody",children:[Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:p,email:r,password:b})}).then((function(e){e.ok?e.json().then((function(e){t(e),k.push("/home")})):k.push("/")}))},children:[Object(u.jsx)("h3",{children:"Login"}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{children:"Name:"}),Object(u.jsx)("input",{value:p,onChange:function(e){return x(e.target.value)},type:"text",placeholder:"Enter Your Name",required:!0})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{children:"E-mail:"}),Object(u.jsx)("input",{value:r,onChange:function(e){return s(e.target.value)},type:"text",placeholder:"Enter Your E-mail",required:!0})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{children:"Password:"}),Object(u.jsx)("input",{value:b,onChange:function(e){return d(e.target.value)},type:"password",placeholder:"Enter Your Password",required:!0})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",className:"button",children:"Login"})})]}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={name:P,email:g,password:N};fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.ok?(e.json().then((function(e){return t(e)})),k.push("/")):k.push("/")}))},children:[Object(u.jsx)("h3",{children:"Become a user!"}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{children:"Your Name:"}),Object(u.jsx)("input",{value:P,onChange:function(e){return T(e.target.value)},type:"text",placeholder:"New Name...",required:!0})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{children:"E-mail:"}),Object(u.jsx)("input",{value:g,onChange:function(e){return v(e.target.value)},type:"text",placeholder:"New E-mail...",required:!0})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{children:"Password:"}),Object(u.jsx)("input",{value:N,onChange:function(e){return S(e.target.value)},type:"password",placeholder:"New Password...",required:!0})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",className:"button",children:"Signup"})})]})]})]})},d=function(e){var t=e.user,n=e.addNewBean,a=Object(c.useState)(""),r=Object(i.a)(a,2),s=r[0],o=r[1],j=Object(c.useState)(""),b=Object(i.a)(j,2),d=b[0],O=b[1],h=Object(c.useState)(""),p=Object(i.a)(h,2),x=p[0],m=p[1],f=Object(c.useState)(""),g=Object(i.a)(f,2),v=g[0],C=g[1],y=Object(c.useState)(""),N=Object(i.a)(y,2),S=N[0],B=N[1],w=Object(c.useState)(""),P=Object(i.a)(w,2),T=P[0],k=P[1],E=Object(c.useState)(""),I=Object(i.a)(E,2),q=I[0],L=I[1],R=Object(l.e)();return Object(u.jsxs)("div",{className:"newBeanBody",children:[Object(u.jsx)("h3",{children:"Add a New Bean:"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={name:s,roast:d,price:parseInt(x),flavor:v,origin:S,process:T,producer:q,user_id:t.id};fetch("/beans",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){return n(e)})),R.push("/home")},children:[Object(u.jsx)("label",{children:"Bean Name"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"text",placeholder:"Bean Name",value:s,onChange:function(e){return o(e.target.value)},required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{children:"Type of Roast"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"text",placeholder:"Bean Roast",value:d,onChange:function(e){return O(e.target.value)},required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{children:"Bean Price"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"text",placeholder:"Bean price",value:x,onChange:function(e){return m(e.target.value)},required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{children:"Bean Flavor"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"text",placeholder:"Bean flavor",value:v,onChange:function(e){return C(e.target.value)},required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{children:"Bean Origin"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"text",placeholder:"Bean origin",value:S,onChange:function(e){return B(e.target.value)},required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{children:"Bean Process"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"text",placeholder:"Bean process",value:T,onChange:function(e){return k(e.target.value)},required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{children:"Bean Producer"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"text",placeholder:"Bean producer",value:q,onChange:function(e){return L(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{type:"Submit",className:"button",children:"Submit"}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{onClick:function(){R.push("/home")},className:"button",children:"Return To Home"})]})]})},O=function(e){var t=e.bean;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{children:["Name: ",t.name]}),Object(u.jsxs)("p",{children:["Roast: ",t.roast," "]}),Object(u.jsxs)("p",{children:["Flavor: ",t.flavor," "]}),Object(u.jsxs)("p",{children:["Origin: ",t.origin," "]}),Object(u.jsxs)("p",{children:["Process: ",t.process," "]}),Object(u.jsxs)("p",{children:["Producer: ",t.producer," "]}),Object(u.jsxs)("p",{children:["Price: ",t.price," "]})]})};var h=function(e){var t=e.bean,n=Object(l.e)();return Object(u.jsxs)("div",{className:"bean row",children:[Object(u.jsx)(O,{bean:t}),Object(u.jsx)("button",{onClick:function(){n.push("/singlebean/".concat(t.id))},className:"button",children:"Find a Store!"})]})},p=n.p+"static/media/coffeeStain.eaa8621d.png",x=function(e){var t=e.setUser,n=(e.user,e.setBeans,e.beans),a=Object(c.useState)(""),r=Object(i.a)(a,2),s=r[0],o=r[1],j=Object(l.e)();return Object(u.jsxs)("div",{className:"MainContainerContainer",children:[Object(u.jsx)("div",{className:"Welcome",children:Object(u.jsx)("h1",{children:"Welcome!"})}),Object(u.jsxs)("div",{className:"navBar",children:[Object(u.jsx)("button",{onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(e){e.ok&&t(null)})),j.push("/")},children:"Logout"}),Object(u.jsx)("button",{onClick:function(){j.push("/new-bean")},children:"Add a Bean"}),Object(u.jsx)("button",{onClick:function(){j.push("portfolio")},children:"Change Your Info"}),Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{className:"uiContainer",children:[Object(u.jsx)("div",{className:"searchBar",children:Object(u.jsx)("input",{className:"searchBarInput",type:"text",placeholder:"Search...",onChange:function(e){o(e.target.value)}})}),Object(u.jsx)("div",{className:"beanCard",children:n.filter((function(e){return""==s||e.name.toLowerCase().includes(s.toLowerCase())?e:void 0})).map((function(e,t){return Object(u.jsxs)("div",{className:"beanContainer",children:[Object(u.jsx)("img",{src:p,alt:"coffee stain"}),Object(u.jsx)(h,{bean:e,className:"beanItem"},e.id)]},t)}))})]})]})},m=function(e){var t=e.user,n=(e.setUser,Object(l.e)()),a=Object(c.useState)(""),r=Object(i.a)(a,2),s=r[0],o=r[1];return Object(u.jsxs)("div",{className:"changeAccountBody",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{children:["Username: ",t.name]}),Object(u.jsx)("br",{}),Object(u.jsxs)("p",{children:["Email: ",t.email]}),Object(u.jsx)("hr",{})]}),Object(u.jsxs)("form",{onSubmit:function(){fetch("/users/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:s})}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),n.push("/home")},className:"changeAccountTextBody",children:[Object(u.jsx)("label",{children:"Change Email"}),Object(u.jsx)("input",{type:"text",placeholder:"New Email",value:s,onChange:function(e){return o(e.target.value)},required:!0}),Object(u.jsx)("button",{type:"submit",className:"button",children:"Submit"}),Object(u.jsx)("button",{onClick:function(){n.push("/home")},className:"button",children:"Return To Home"})]}),Object(u.jsx)("br",{})]})},f=n(20),g=n(17),v={width:"40.5rem",height:"22.5rem",borderRadius:"1.5rem",border:"solid 1px yellow"},C={lat:40.7128,lng:-74.006};function y(e){return{zoomControlOptions:{position:e.ControlPosition.center,style:e.ZoomControlStyle.SMALL},mapTypeControlOptions:{position:e.ControlPosition.TOP_RIGHT},mapTypeControl:!0}}function N(){var e=Object(g.b)({id:"google-map-script",googleMapsApiKey:"AIzaSyCZu8uJllCsdilEX7yOTjWPgazu50efNMY"}).isLoaded,t=a.a.useState(null),n=Object(i.a)(t,2),c=(n[0],n[1]),r=a.a.useCallback((function(e){function t(t){var n=new window.google.maps.Marker(Object(f.a)({position:{lat:t.latitude,lng:t.longitude},map:e,icon:t.iconImage,content:t.name},"content",t.address));if(t.name){var c=new window.google.maps.InfoWindow({content:t.name});n.addListener("click",(function(){c.open(e,n)}))}}for(var n=[{name:"Porto Rico Importing Co.",latitude:40.718257042573775,longitude:-73.9881713750316,address:"201 Bleecker St, New York, NY 10012"},{name:"Porto Rico Importing Co.",latitude:40.72825256465811,longitude:-73.98737234837931},{name:"Porto Rico Importing Co.",latitude:40.72934307265706,longitude:-74.00137551232535}],a=0;a<n.length;a++)t(n[a]);c(e)}),[]),s=a.a.useCallback((function(e){c(null)}),[]);return e?Object(u.jsx)("div",{children:Object(u.jsx)(g.a,{className:"BeanMap",options:y,mapContainerStyle:v,center:C,zoom:12,onLoad:r,onUnmount:s,children:Object(u.jsx)(u.Fragment,{})})}):Object(u.jsx)(u.Fragment,{})}var S=a.a.memo(N);n(7);var B=function(e){e.beans,e.user;var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(l.f)().id;Object(c.useEffect)((function(){fetch("/beans/".concat(s)).then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]);var o=Object(l.e)();return o.location.state,Object(u.jsxs)("div",{className:"SingleBean",children:[Object(u.jsxs)("h3",{children:["Name: ",a.name]}),Object(u.jsxs)("p",{children:["Roast: ",a.roast," "]}),Object(u.jsxs)("p",{children:["Flavor: ",a.flavor," "]}),Object(u.jsxs)("p",{children:["Origin: ",a.origin," "]}),Object(u.jsxs)("p",{children:["Process: ",a.process," "]}),Object(u.jsxs)("p",{children:["Producer: ",a.producer," "]}),Object(u.jsxs)("p",{children:["Price: ",a.price," "]}),Object(u.jsx)(S,{}),Object(u.jsx)("button",{onClick:function(){o.push("/home")},className:"button",children:"Return To Home"})]})};var w=function(){var e=Object(c.useState)({}),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(i.a)(r,2),O=s[0],h=s[1],p=Object(c.useState)([]),f=Object(i.a)(p,2),g=f[0],v=f[1],C=Object(c.useState)([]),y=Object(i.a)(C,2),N=y[0],S=y[1];return Object(c.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){return a(e)}))}))}),[]),Object(c.useEffect)((function(){fetch("/beans").then((function(e){return console.log(e),e.json()})).then((function(e){return S(e)}))}),[]),Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(j.a,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/",children:Object(u.jsx)(b,{setUser:a,user:n})}),Object(u.jsx)(l.a,{exact:!0,path:"/new-bean",children:Object(u.jsx)(d,{user:n,addNewBean:function(e){var t=[].concat(Object(o.a)(N),[e]);S(t)}})}),Object(u.jsx)(l.a,{exact:!0,path:"/portfolio",children:Object(u.jsx)(m,{user:n,setUser:a,email:O,setEmail:h})}),Object(u.jsx)(l.a,{exact:!0,path:"/singlebean/:id",children:Object(u.jsx)(B,{user:n,beans:N,click:function(e){if(!g.includes(e)){var t=[].concat(Object(o.a)(g),[e]);v(t)}},remove:function(e){var t=Object(o.a)(g).filter((function(t){return e.id!==t.id}));v(t)}})}),Object(u.jsx)(l.a,{exact:!0,path:"/home",children:Object(u.jsx)(x,{setUser:a,user:n,beans:N})})]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root")),P()}},[[37,1,2]]]);
//# sourceMappingURL=main.c7a5ad2a.chunk.js.map